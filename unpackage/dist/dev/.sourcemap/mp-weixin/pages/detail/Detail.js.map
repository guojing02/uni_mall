{"version":3,"sources":["uni-app:///main.js","webpack:///E:/学习uniapp/taolego/pages/detail/Detail.vue?0637","webpack:///E:/学习uniapp/taolego/pages/detail/Detail.vue?1ee8","webpack:///E:/学习uniapp/taolego/pages/detail/Detail.vue?8918","webpack:///E:/学习uniapp/taolego/pages/detail/Detail.vue?67cf","uni-app:///pages/detail/Detail.vue","webpack:///E:/学习uniapp/taolego/pages/detail/Detail.vue?7ddd","webpack:///E:/学习uniapp/taolego/pages/detail/Detail.vue?1e94"],"names":["createPage","Page"],"mappings":"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","file":"pages/detail/Detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/detail/Detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./Detail.vue?vue&type=template&id=16b5f582&scoped=true&\"\nvar renderjs\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=16b5f582&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16b5f582\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"学习uniapp/taolego/pages/detail/Detail.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Detail.vue?vue&type=template&id=16b5f582&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Detail.vue?vue&type=script&lang=js&\"","<template>\n  <view id=\"detail\">\n    <detail-nav-bar :class=\"[active?'detail-nav':'false-nav']\" @itemClick='itemClick' ref=\"nav\"/>\n\t\t<my-swiper :banners='topImages' class=\"imgHeight\"></my-swiper>\r\n\t\t<detail-base-info :goods='goods'></detail-base-info>\r\n\t\t<detail-shop-info :shop='shop'></detail-shop-info>\r\n\t\t<detail-goods-info :detail-info='detailInfo' @imageLoad='imageLoad'/>\r\n\t\t<detail-param-info ref=\"param\" class=\"param\" :param-info='paramInfo'></detail-param-info>\r\n\t\t<detail-comment-info ref=\"comment\" class='comment' :commentInfo=\"commentInfo\"></detail-comment-info>\r\n\t\t<goods-list ref=\"recomment\" class=\"recomment\" :goods='showGoods'/>\r\n\t\t<detail-bottom-bar @addCar='addCar'/>\n  </view>\n</template>\n\n<script>\nimport DetailNavBar from './chidComps/DetailNavBar.vue'\r\nimport DetailBaseInfo from './chidComps/DetailBaseInfo'\nimport DetailShopInfo from './chidComps/DetailShopInfo'\nimport DetailGoodsInfo from './chidComps/DetailGoodsInfo'\nimport DetailParamInfo from './chidComps/DetailParamInfo'\r\nimport DetailCommentInfo from './chidComps/DetailCommentInfo'\r\nimport DetailBottomBar from './chidComps/DetailBottomBar'\r\n\r\nimport MySwiper from '../../components/swiper/MySwiper.vue'\r\nimport GoodsList from '../../components/goods/GoodsList.vue'\n\r\nimport {Goods,Shop,GoodsParam} from '../../common/detail.js'\r\nimport {debounce} from '../../common/debounce.js'\r\nimport {mapActions} from 'vuex'\r\n\nexport default {\n  name:'Detail',\n  data(){\n    return {\r\n\t\t\ttopImages:[],\r\n\t\t\tactive:false,\r\n\t\t\tgoods:{},\r\n\t\t\tshop:{},\r\n\t\t\tiid:null,\r\n\t\t\tdetailInfo:{},\r\n\t\t\tparamInfo:{},\r\n\t\t\tcommentInfo:{},\r\n\t\t\trecommendList:{\r\n\t\t\t\tnew:{\r\n\t\t\t\t\tpage:3,\r\n\t\t\t\t\tlist:[]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tthemeTops:[],\r\n\t\t\tcurrentIndex:null\n    }\n  },\n  created(){\r\n\t\tthis.getHomeGoods('new',3)\r\n\t\t\n   },\r\n\t mounted(){\r\n\t   // 图片加载完的事件监听\r\n\t\t this.imageLoad()\r\n\t },\r\n\t destroyed(){\r\n\t \r\n\t },\r\n\t onLoad(options) {\r\n\t\tthis.getSwiper(options.id)\r\n\t\t// console.log(options)\r\n\t\t// console.log(options.id)\r\n\t },\n    \n  methods:{\r\n\t\t...mapActions(['addCart']),\n\t\tasync getSwiper(iid){\r\n\t\t\tthis.iid = iid\r\n\t\t\tconst{data:res} = await this.$http({\r\n\t\t\t\turl:'/detail',\r\n\t\t\t\tdata:{iid}\r\n\t\t\t})\r\n\t\t\t// console.log(res)\r\n\t\t\tconst data = res.result\r\n\t\t\tthis.topImages = data.itemInfo.topImages\r\n\t\t  this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\r\n\t\t\t\t\t// 3.创建店铺信息\r\n\t\t\tthis.shop = new Shop(data.shopInfo)\r\n\t\t\t// 4.保存商品的详情数据\r\n\t\t\tthis.detailInfo = data.detailInfo\r\n\t\t\t// 5.获取参数的信息\r\n\t\t\tthis.paramInfo = new GoodsParam(data.itemParams.info,data.itemParams.rule)\r\n\t\t\tif(data.rate.list){\r\n\t\t\t\tthis.commentInfo = data.rate.list[0];\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getHomeGoods(type, page) {\r\n\t\t\tconst {\r\n\t\t\t\tdata: res\r\n\t\t\t} = await this.$http({\r\n\t\t\t\turl: '/home/data',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\tpage\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// console.log(res)\r\n\t\t\tthis.recommendList.new.list.push(...res.data.list)\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\titemClick(i){\r\n　　　　uni.pageScrollTo({\r\n　　　　　　duration:100,//过渡时间\r\n　　　　　　scrollTop:this.themeTops[i]  ,//到达距离顶部的top值\r\n　　　　})\r\n\t\t},\r\n\t\timageLoad(){\r\n\t\t\t // #ifdef H5\r\n\t\t\tthis.themeTops = [0,\r\n\t\t\t\t\t this.$refs.param.$el.offsetTop,\r\n\t\t\t\t\t this.$refs.comment.$el.offsetTop,\r\n\t\t\t\t\t this.$refs.recomment.$el.offsetTop,\r\n\t\t\t\t\t Number.MAX_VALUE]\r\n\t\t\t// #endif\r\n\t\t\t//#ifdef MP\r\n\t\t\tthis.themeTops[0] = 0\r\n\t\t\tuni.createSelectorQuery().select('.param').boundingClientRect((rect)=>{\r\n\t\t\t\tthis.themeTops[1] = rect.top\r\n\t\t\t}).exec()\r\n\t\t\tuni.createSelectorQuery().select('.comment').boundingClientRect((rect)=>{\r\n\t\t\t \tthis.themeTops[2] = rect.top\r\n\t\t\t }).exec() \r\n\t\t\tuni.createSelectorQuery().select('.recomment').boundingClientRect((rect)=>{\r\n\t\t\t \tthis.themeTops[3] = rect.top\r\n\t\t\t }).exec() \r\n\t\t\tthis.themeTops[4] = Number.MAX_VALUE\r\n\t\t\t\r\n\t\t\t// #endif\r\n\t\t\tconsole.log(this.themeTops)\r\n\t\t},\r\n\t\taddCar(){\r\n\t\t\tconst cart = {}\r\n\t\t\t\tcart.image = this.topImages[0];\r\n\t\t\t\tcart.title = this.goods.title;\r\n\t\t\t\tcart.desc = this.goods.desc;\r\n\t\t\t\tcart.price = this.goods.realPrice;\r\n\t\t\t\tcart.iid = this.iid\r\n\t\t\t\t// console.log(cart)\r\n\t\t\tthis.addCart(cart).then(res=>{\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:res\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tconsole.log(this.addCart(cart))\r\n\t\t},\r\n\t\tonPageScroll(res) {\r\n\t\t\t// console.log(res.scrollTop)\r\n\t\t\tlet top = res.scrollTop\r\n\t\t\tif(top >= 50){\r\n\t\t\t\tthis.active = true\r\n\t\t\t}else{\r\n\t\t\t\tthis.active = false\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < this.themeTops.length-1; i++) {\r\n\t\t\t          if (this.currentIndex !== i &&\r\n\t\t\t           (top >= this.themeTops[i]-4 &&\r\n\t\t\t            top < this.themeTops[i+1])) {\r\n\t\t\t            this.currentIndex = i\r\n\t\t\t            this.$refs.nav.currentIndex = this.currentIndex\r\n\t\t\t          }\r\n\t\t\t        }  \r\n\t\t}    \n  },\r\n\tonReachBottom() {\r\n\t\tlet pages = ++this.recommendList.new.page\r\n\t\tthis.getHomeGoods('new',pages)\r\n\t},\n  components:{\n    DetailNavBar,\n\t\tMySwiper,\r\n\t\tDetailBaseInfo,\r\n\t\tDetailShopInfo,\r\n\t\tDetailGoodsInfo,\r\n\t\tDetailParamInfo,\r\n\t\tDetailCommentInfo,\r\n\t\tGoodsList,\r\n\t\tDetailBottomBar\n  },\r\n\tcomputed:{\r\n\t\tshowGoods(){\r\n\t\t\treturn this.recommendList.new.list\r\n\t\t}\r\n\t}\n\n}\n</script>\n\n<style scoped>\n  #detail{\n    position: relative;\n    background-color: #fff;\n    z-index: 10;\n    height: 50%;\n  }\r\n\t.imgHeight{\r\n\t\theight: 600rpx;\r\n\t}\n  .detail-nav{\n    background-color: #fff;\n    position: fixed;\n    z-index: 11;\r\n\t\twidth: 750rpx;\r\n    background: -webkit-linear-gradient(right, #949494 0%, #b350cc 100%);\n    background: -webkit-linear-gradient(rgb(255, 105, 156), rgba(255, 176, 255, 0.2));\n    background: linear-gradient(rgb(255, 105, 156), rgba(255, 0, 255, 0.2));\r\n\t\tborder-bottom-right-radius: 30px;\r\n\t\tborder-bottom-left-radius: 30px;\r\n\t\tfilter: drop-shadow(2px 4px 6px #ceced0);\r\n\t\tmargin-left: -4px;\r\n\t\tpadding: 4px;\n  }\r\n\t.false-nav{\r\n\t\tposition: absolute;\r\n\t\tz-index: -20;\r\n\t}\n</style>","import mod from \"-!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Detail.vue?vue&type=style&index=0&id=16b5f582&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Detail.vue?vue&type=style&index=0&id=16b5f582&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1593272975928\n      var cssReload = require(\"E:/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}